library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
getwd()
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
str(police_incident$Date_Incident)
getwd()
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
str(police_incident$Date_Incident)
censusData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year')
censusData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year')
getwd()
censusData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year.csv')
head(censusData)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
#read the main police incident database
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
censusIncData <- read_csv('2017_Median_Income.csv')
head(censusIncData)
#merge the income and population data
censusData <- merge(censusPopData,censusIncData,by="TRACT_ID")
censusPopData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year.csv')
head(censusPopData)
colnames(censusPopData)[3] <- "TRACT_ID"
censusIncData <- read_csv('2017_Median_Income.csv')
head(censusIncData)
#merge the income and population data
censusData <- merge(censusPopData,censusIncData,by="TRACT_ID")
head(censusData)
the_2017_income <- read_csv("2017_Median_Income.csv")
head(the_2017_income)
censusPopShp <- read_sf("geo_export_fe8d8733-afc7-42cd-b460-c1b7a15311bb.shp")
head(censusPopShp)
## Make shape file for 2017 Median Income
censusIncShp <- read_sf("geo_export_43a087a5-8ff8-4733-9a99-dd658a9c17f4.shp")
head(censusIncShp)
## Merge our Shape Files
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
View(censusPopShp)
View(censusIncShp)
View(censusDataShp)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
#read the main police incident database
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
censusPopData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year.csv')
head(censusPopData)
colnames(censusPopData)[3] <- "TRACT_ID"
censusIncData <- read_csv('2017_Median_Income.csv')
head(censusIncData)
#merge the income and population data
censusData <- merge(censusPopData,censusIncData,by="TRACT_ID")
head(censusData)
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
library(ggplot2)
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
plot(censusDataShp)
ggplot() +
geom_polygon(data = spdf_fortified, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
theme_void()
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
plot(censusDataShp)
ggplot() +
geom_polygon(data = censusDataShp, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
theme_void()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill="#69b3a2", color="white")) +
theme_void()
View(censusPopShp)
View(censusDataShp)
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill="median_i_3", color="white")) +
theme_void()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill=censusDataShp$median_i_3, color="red")) +
theme_void()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill=censusDataShp$median_i_3, color="white")) +
theme_void()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill=censusDataShp$median_i_3, color="white")) +
theme_grey()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill=censusDataShp$median_i_3, color="white")) +
theme_bw()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill=censusDataShp$median_i_3, color="white")) +
theme_bw() +
theme_dark()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill= `median_i_3`, color="white")) +
theme_bw() +
theme_dark()
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill= `median_i_3`, color="white")) +
theme_classic() +
theme_dark()
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
library(ggplot2)
#read the main police incident database
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
censusPopData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year.csv')
head(censusPopData)
colnames(censusPopData)[3] <- "TRACT_ID"
censusIncData <- read_csv('2017_Median_Income.csv')
head(censusIncData)
#merge the income and population data
censusData <- merge(censusPopData,censusIncData,by="TRACT_ID")
head(censusData)
## Make shape file for Census Population
censusPopShp <- read_sf("geo_export_fe8d8733-afc7-42cd-b460-c1b7a15311bb.shp")
head(censusPopShp)
## Make shape file for 2017 Median Income
censusIncShp <- read_sf("geo_export_43a087a5-8ff8-4733-9a99-dd658a9c17f4.shp")
head(censusIncShp)
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
plot(censusDataShp)
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill= `median_i_3`)) +
theme_classic() +
theme_dark()
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
plot(censusDataShp)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
library(ggplot2)
library(incidence)
#read the main police incident database
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
median(police_incident_by_dat)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
median(police_incident_by_date$frequency)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
mean(police_incident_by_date$frequency)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
mean(police_incident_by_date$frequency,  na.rm = TRUE)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
mode(police_incident_by_date$frequency, na.rm = TRUE)
View(police_incident)
mode(police_incident_by_date$frequency)
uniqv <- unique(v)
getmode <- function(v) {
uniqv <- unique(v)
uniqv[which.max(tabulate(match(v, uniqv)))]
}
getmode(police_incident_by_date$frequency)
police_incident_by_date %>% group_by(month=floor_date(Date_Incident, "month")) %>%
summarize(amount=sum(frequency))
police_incident_by_date %>% group_by(month=floor_date(Date_Incident, "month")) %>%
summarize(frequency=sum(frequency))
police_incident_by_month <- police_incident_by_date %>% group_by(Date_Incident=floor_date(Date_Incident, "month")) %>%
summarize(frequency=sum(frequency))
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)
library(lubridate)
library(sf)
library(raster)
library(ggplot2)
library(incidence)
#read the main police incident database
police_incident <- read_csv("Police_Incident_Data.csv")
head(police_incident)
censusPopData <- read_csv('Hamilton_County_Census_Tract_Population_-_2018_ACS_Five_Year.csv')
head(censusPopData)
colnames(censusPopData)[3] <- "TRACT_ID"
censusIncData <- read_csv('2017_Median_Income.csv')
head(censusIncData)
#merge the income and population data
censusData <- merge(censusPopData,censusIncData,by="TRACT_ID")
head(censusData)
## Make shape file for Census Population
censusPopShp <- read_sf("geo_export_fe8d8733-afc7-42cd-b460-c1b7a15311bb.shp")
head(censusPopShp)
## Make shape file for 2017 Median Income
censusIncShp <- read_sf("geo_export_43a087a5-8ff8-4733-9a99-dd658a9c17f4.shp")
head(censusIncShp)
## Merge our Shape Files to one big shape file
censusDataShp <- st_union(censusIncShp, censusPopShp)
head(censusDataShp)
plot(censusDataShp)
## Plot in ggplot
ggplot() +
geom_sf(data = censusDataShp, aes(fill= `median_i_3`)) +
theme_classic() +
theme_dark()
##Remove the Time Stamps from the Date Incidents
police_incident$Date_Incident <- str_sub(police_incident$Date_Incident, 1, nchar(police_incident$Date_Incident)-12)
head(police_incident)
##Make Incident Dates date type
police_incident$Date_Incident <- as.Date(police_incident$Date_Incident, format = "%m/%d/%Y")
head(police_incident)
police_incident_by_date <- police_incident %>% group_by(Date_Incident) %>% summarise(frequency = n())
ggplot(police_incident_by_date, aes(Date_Incident, frequency)) + geom_bar(stat = "identity")
police_incident_by_month <- police_incident_by_date %>% group_by(Date_Incident=floor_date(Date_Incident, "month")) %>%
summarize(frequency=sum(frequency))
police_incident_by_month <- police_incident_by_date %>% group_by(Date_Incident=floor_date(Date_Incident, "month")) %>%
summarize(frequency=sum(frequency))
ggplot(police_incident_by_month, aes(Date_Incident, frequency)) + geom_bar(stat = "identity")
police_incident_by_year <- police_incident_by_month %>% group_by(Date_Incident=floor_date(Date_Incident, "year")) %>%
summarize(frequency=sum(frequency))
ggplot(police_incident_by_year, aes(Date_Incident, frequency)) + geom_bar(stat = "identity")
library(plotly)
install.packages("plotly")
library(plotly)
plot_ly(police_incident_by_year$Date_Incident, police_incident_by_year$frequency, name = "Police Incident by Year", type = "bar")
plot_ly(police_incident_by_year, Date_Incident, frequency, name = "Police Incident by Year", type = "bar")
plot_ly(police_incident_by_year, police_incident_by_year$Date_Incident, police_incident_by_year$frequency, name = "Police Incident by Year", type = "bar")
plot_ly(police_incident_by_year, x = police_incident_by_year$Date_Incident, y = police_incident_by_year$frequency, name = "Police Incident by Year", type = "bar")
plot_ly(police_incident_by_year, x = police_incident_by_year$Date_Incident, y = police_incident_by_year$frequency, name = "Police Incident by Year", type = "bar") %>% layout(
xaxis = list(title = "Year"),
yaxis = list(title = "Number of Incident"))
plot_ly(police_incident_by_month, x = police_incident_by_month$Date_Incident, y = police_incident_by_month$frequency, name = "Police Incident by Month", type = "bar") %>% layout(
xaxis = list(title = "Month"),
yaxis = list(title = "Number of Incidents"))
plot_ly(police_incident_by_date, x = police_incident_by_date$Date_Incident, y = police_incident_by_date$frequency, name = "Police Incident by Date", type = "bar") %>% layout(
xaxis = list(title = "Date"),
yaxis = list(title = "Number of Incidents"))
